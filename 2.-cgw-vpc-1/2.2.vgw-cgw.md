---
description: 'Update : 2020-02-27'
---

# 2.2 VGW-CGW 연결 구성

### AWS Cloud9 기반의 CGW 구성

CGW\(Customer Gateway\)에 LAB에서 처럼 Public IP로 할당이 가능하지만, 다른 EC2 처럼 사설 IP로 연결 구성 할 수도 있습니다. 이 랩에서는 AWS Cloud9을 통해 기본 제공되는 Cisco CSR1KV 라우터의 기본 템플릿을 손쉽게 변경해서 배포하는 방법을 제공합니다.

먼저 Cloud 9을 생성합니다. \(AWS Cloud9 서비스에서 아래와 같이 구성을 시작합니다.\)

![\[&#xADF8;&#xB9BC; 2.2.1 Cloud9 &#xC0DD;&#xC131;\]](../.gitbook/assets/2.1.13.c9.png)

IDE환경의 이름을 정의합니다.

![\[&#xADF8;&#xB9BC; 2.2.2 IDE &#xC774;&#xB984; &#xC815;&#xC758;\]](../.gitbook/assets/2.1.14.c9.png)

IDE 환경을 아래와 같이 구성합니다.

![\[&#xADF8;&#xB9BC; 2.2.3 Cloud9 &#xD658;&#xACBD;&#xAD6C;&#xC131; 1\]](../.gitbook/assets/2.1.15.c9.png)

![\[&#xADF8;&#xB9BC; 2.2.4 Cloud9 &#xD658;&#xACBD;&#xAD6C;&#xC131; 2\]](../.gitbook/assets/2.1.16.c9.png)

생성 완료 이후 몇 분후에 아래와 같은 화면이 제공됩니다.

![\[&#xADF8;&#xB9BC; 2.2.5 Cloud 9 &#xCF58;&#xC194; &#xD654;&#xBA74;\]](../.gitbook/assets/2.2.5.c9.png)

이제 CGW를 템플릿 기반으로 간단하게 구성하기 위해 다음과 같은 단계를 수행합니다.  
먼저 ["1.2.TGW를 위한 VPC 구성"](../1.transit-gwatway/1.2.tgw-vpc.md#cloudformation-vpc)에서 소개된 git을 Cloud9 콘솔로 Clone합니다.

```text
git clone https://github.com/whchoi98/TGW_CF.git
```

CGW로 접속할 때 사용하는 KeyPem을 Cloud9으로 복사합니다.  
좌측 환경 패널로 현재 KeyPem파일을 Drag and Drop으로 아래에 생성된 디렉토리로 끌어 다 놓습니다.

```text
mkdir ./aws_key
```

![\[&#xADF8;&#xB9BC; 2.2.5 Cloud 9 &#xD658;&#xACBD; &#xAD6C;&#xC131;\]](../.gitbook/assets/2.2.6.c9.png)

### 

### VGW-CGW 연결 구성하기



